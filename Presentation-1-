class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def display_info(self):
        return f"Name: {self.name}, Age: {self.age}"
       
class Student(Person):
        def __init__(self, name, age, student_id, courses):
            super().__init__(name, age)
            self.student_id = student_id
            self.courses = courses
            
        def display_info(self):
            base_info = super().display_info()
            return f"{base_info}, Student ID: {self.student_id}, Courses: {', '.join(self.courses)}"
        
        def add_course(self, course):
            if course not in self.courses:
                self.courses.append(course)

        def remove_course(self, course):
            if course in self.courses:
                self.courses.remove(course)
class StudentManagementSystem:
        def __init__(self):
                        self.students = []

        def add_student(self, student):
                        self.students.append(student)

        def remove_student(self, student_id):
                        self.students = [student for student in self.students if student.student_id != student_id]
                        
        def search_student(self, student_id):
            for student in self.students:
                if student.student_id == student_id:
                    return student
                return None

        def display_students(self):
            for student in self.students:
                print(student.display_info())
        def sort_students_by_name(self):
            self.students.sort(key=lambda st: st.name)#st=students

        def sort_students_by_age(self):
                self.students.sort(key=lambda st: st.age)

        def save_students_to_file(self, filename):
            with open(filename, 'w') as file:
                for student in self.students:
                    file.write(student.display_info() + '\n')

        def load_students_from_file(self, filename):
            try:
                with open(filename, 'r') as file:
                    for line in file:
                        data = line.strip().split(', ')
                        name = data[0].split(': ')[1]
                        age = int(data[1].split(': ')[1])
                        student_id = data[2].split(': ')[1]
                        courses = data[3].split(': ')[1].split(', ')
                        student = Student(name, age, student_id, courses)
                        self.add_student(student)
            except FileNotFoundError:
                print(f"File {filename} not found.")
            except Exception as e:
                print(f"An error occurred: {e}")